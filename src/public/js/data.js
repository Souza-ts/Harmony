const musicLibrary = [
    {
        id: 1,
        title: "deja vu",
        artist: "Olivia Rodrigo",
        album: "SOUR",
        duration: 351, // 3:51 minutos
        file: "src/assets/song/DejaVu.mp3",
        cover: "src/assets/cover/Sour.jpg",
        lyrics: [
            { time: 10, text: "Car rides to Malibu" },
            { time: 15, text: "Strawberry ice cream, one spoon for two" },
            { time: 20, text: "And tradin' jackets" },
            { time: 24, text: "Laughin' 'bout how small it looks on you" },
            { time: 28, text: "(Ha-ha, ha-ha, ha-ha, ha-ha-ha, ha-ha, ha-ha)" },
            { time: 31, text: "Watchin' reruns of Glee" },
            { time: 36, text: "Bein' annoyin', singin' in harmony" },
            { time: 41, text: "I bet she's braggin'" },
            { time: 44, text: "To all her friends, sayin' you're so unique, hm" },
            { time: 48, text: "So when you gonna tell her that we did that, too?" },
            { time: 55, text: "She thinks it's special, but it's all reused" },
            { time: 62, text: "That was our place, I found it first" },
            { time: 65, text: "I made the jokes you tell to her when she's with you" },
            { time: 69, text: "Do you get déjà vu when she's with you?" },
            { time: 75, text: "Do you get déjà vu? Ah, hm" },
            { time: 81, text: "Do you get déjà vu, huh?" },
            { time: 85, text: "Do you call her, almost say my name?" },
            { time: 92, text: "'Cause let's be honest, we kinda do sound the same" },
            { time: 105, text: "Another actress" },
            { time: 109, text: "I hate to think that I was just your type" },
            { time: 112, text: "And I bet that she knows Billy Joel" },
            { time: 118, text: "'Cause you played her 'Uptown Girl'" },
            { time: 121, text: "You're singin' it together" },
            { time: 123, text: "Now I bet you even tell her how you love her" },
            { time: 129, text: "In between the chorus and the verse (ooh) (I love you)" },
            { time: 136, text: "So when you gonna tell her that we did that, too?" },
            { time: 142, text: "She thinks it's special, but it's all reused" },
            { time: 147, text: "That was the show we talked about" },
            { time: 150, text: "Played you the song she's singing now when she's with you" },
            { time: 155, text: "Do you get déjà vu when she's with you?" },
            { time: 159, text: "Do you get déjà vu? (Oh-oh)" },
            { time: 164, text: "Do you get déjà vu?" },
            { time: 169, text: "Strawberry ice cream in Malibu" },
            { time: 172, text: "Don't act like we didn't do all that too" },
            { time: 174, text: "You're tradin' jackets like we used to do" },
            { time: 177, text: "(Yeah, everything is all reused)" },
            { time: 180, text: "Play her piano, but she doesn't know (oh-oh)" },
            { time: 182, text: "That I was the one who taught you, Billy Joel" },
            { time: 185, text: "A different girl now, but there's nothing new" },
            { time: 188, text: "I know you get déjà vu" },
            { time: 190, text: "I know you get déjà vu" },
            { time: 196, text: "I know you get déjà vu" }
        ]
    },
    {
        id: 2,
        title: "Happier Than Ever",
        artist: "Billie Eilish",
        album: "Happier Than Ever",
        duration: 458, // 4:58 minutos
        file: "src/assets/song/Happier Than Ever.mp3",
        cover: "src/assets/cover/Happier Than Ever.jpg",
        lyrics: [
            { time: 0, text: "" },
            { time: 5, text: "When I'm away from you" },
            { time: 10, text: "I'm happier than ever" },
            { time: 15, text: "Wish I could explain it better" },
            { time: 21, text: "I wish it wasn't true, mmm" },
            { time: 26, text: "Give me a day or two" },
            { time: 31, text: "To think of something clever" },
            { time: 37, text: "To write myself a letter" },
            { time: 42, text: "To tell me what to do, mm-mm" },
            { time: 51, text: "" },
            { time: 53, text: "Do you read my interviews?" },
            { time: 58, text: "Or do you skip my avenue?" },
            { time: 63, text: "When you said you were passin' through" },
            { time: 68, text: "Was I even on your way?" },
            { time: 73, text: "I knew when I asked you to (When I asked you to)" },
            { time: 77, text: "Be cool about what I was tellin' you" },
            { time: 82, text: "You'd do the opposite of what you said you'd do (What you said you'd do)" },
            { time: 87, text: "And I'd end up more afraid" },
            { time: 91, text: "Don't say it isn't fair" },
            { time: 93, text: "You clearly weren't aware that you made me miserable, ooh" },
            { time: 105, text: "So if you really wanna know" },
            { time: 109, text: "When I'm away from you (When I'm away from you)" },
            { time: 115, text: "I'm happier than ever (I'm happier than ever)" },
            { time: 119, text: "Wish I could explain it better (Wish I could explain it better)" },
            { time: 125, text: "I wish it wasn't true, mmm" },
            { time: 133, text: "" },
            { time: 148, text: "You called me again, drunk in your Benz" },
            { time: 153, text: "Drivin' home under the influence" },
            { time: 157, text: "You scared me to death but I'm wastin' my breath" },
            { time: 162, text: "'Cause you only listen to your fuckin' friends" },
            { time: 165, text: "I don't relate to you" },
            { time: 170, text: "I don't relate to you, no" },
            { time: 172, text: "'Cause I'd never treat me this shitty" },
            { time: 177, text: "You made me hate this city" },
            { time: 181, text: "" },
            { time: 182, text: "And I don't talk shit about you on the internet" },
            { time: 186, text: "Never told anyone anything bad" },
            { time: 191, text: "'Cause that shit's embarrassing, you were my everything" },
            { time: 195, text: "And all that you did was make me fuckin' sad" },
            { time: 200, text: "So don't waste the time I don't have" },
            { time: 205, text: "And don't try to make me feel bad" },
            { time: 208, text: "I could talk about every time that you showed up on time" },
            { time: 213, text: "But I'd have an empty line 'cause you never did" },
            { time: 217, text: "Never paid any mind to my mother or friends, so I" },
            { time: 222, text: "Shut them all out for you 'cause I was a kid" },
            { time: 226, text: "" },
            { time: 227, text: "You ruined everything good" },
            { time: 231, text: "Always said you were misunderstood" },
            { time: 236, text: "Made all my moments your own" },
            { time: 241, text: "Just fuckin' leave me alone" }
        ]
    },
    {
        id: 3,
        title: "yes, and?",
        artist: "Ariana Grande",
        album: "Eternal Sunshine",
        duration: 335, // 3:35 minutos
        file: "src/assets/song/yes, and?.mp3",
        cover: "src/assets/cover/Eternal Sunshine.jpg",
        lyrics: [
            { time: 0, text: "" },
            { time: 48, text: "In case you haven't noticed" },
            { time: 52, text: "Well, everybody's tired" },
            { time: 56, text: "And healin' from somebody" },
            { time: 59, text: "Or somethin' we don't see just right" },
            { time: 64, text: "Boy, come on, put your lipstick on (No one can tell you nothin')" },
            { time: 67, text: "Come on and walk this way through the fire (Don't care what's on their mind)" },
            { time: 72, text: "And if you find yourself in a dark situation" },
            { time: 76, text: "Just turn on your light and be like" },
            { time: 80, text: "'Yes, and?'" },
            { time: 83, text: "Say that shit with your chest, and" },
            { time: 87, text: "Be your own fuckin' best friend" },
            { time: 91, text: "Say that shit with your chest" },
            { time: 93, text: "Keep moving like, 'What's next?'" },
            { time: 95, text: "'Yes, and?'" },
            { time: 97, text: "Now, I'm so done with caring" },
            { time: 100, text: "What you think, no, I won't hide" },
            { time: 104, text: "Underneath your own projections" },
            { time: 108, text: "Or change my most authentic life" },
            { time: 112, text: "Boy, come on, put your lipstick on (No one can tell you nothin')" },
            { time: 116, text: "Come on and walk this way through the fire (Don't care what's on their mind)" },
            { time: 120, text: "And if you find yourself in a dark situation" },
            { time: 124, text: "Just turn on your light and be like" },
            { time: 128, text: "'Yes, and?'" },
            { time: 132, text: "Say that shit with your chest, and" },
            { time: 136, text: "Be your own fuckin' best friend" },
            { time: 140, text: "Say that shit with your chest" },
            { time: 142, text: "Keep moving like, 'What's next?'" },
            { time: 144, text: "'Yes, and?' (Yeah)" },
            { time: 147, text: "My tongue is sacred, I speak upon what I like" },
            { time: 150, text: "Protected, sexy, discerning with my time (My time)" },
            { time: 154, text: "Your energy is yours and mine is mine (It's mine, it's mine)" },
            { time: 158, text: "What's mine is mine" },
            { time: 161, text: "My face is sitting, I don't need no disguise (I don't need no disguise)" },
            { time: 164, text: "Don't comment on my body, do not reply" },
            { time: 168, text: "Your business is yours and mine is mine" },
            { time: 172, text: "Why do you care so much whose **** I ride?" },
            { time: 176, text: "Why?" },
            { time: 178, text: "'Yes, and?' (Yes, and?)" },
            { time: 180, text: "Say that shit with your chest, and (Say that shit with your chest)" },
            { time: 184, text: "Be your own fuckin' best friend (Oh, be your own, be your own)" },
            { time: 188, text: "Say that shit with your chest (Say that shit with your chest, baby)" },
            { time: 190, text: "Keep moving like, 'What's next?'" },
            { time: 192, text: "'Yes, and?'" },
            { time: 194, text: "'Yes, and?'" },
            { time: 196, text: "Say that shit with your chest, and" },
            { time: 200, text: "Be your own fuckin' best (Be your own) friend" },
            { time: 204, text: "Say that shit with your chest" },
            { time: 206, text: "Keep moving like, 'What's next?'" },
            { time: 208, text: "'Yes, and?' (Yeah)" }
        ]
    }
];

// Estado do aplicativo
let currentUser = null;
let currentSongIndex = 0;
let isPlaying = false;
let currentTime = 0;
let timerInterval = null;
let isShuffle = false;
let isRepeat = false;

// Elementos DOM (serão inicializados em main.js)
let audioPlayer;
let pages;
let navLinks;
let loginBtn;
let registerBtn;
let logoutBtn;
let loggedOutDiv;
let loggedInDiv;
let userNameElement;
let userAvatarElement;
let loginForm;
let registerForm;
let registerLink;
let loginLink;
let playPauseBtn;
let playPauseIcon;
let prevBtn;
let nextBtn;
let shuffleBtn;
let repeatBtn;
let progressBar;
let progress;
let currentTimeElement;
let songDurationElement;
let currentSongTitle;
let currentSongArtist;
let currentSongAlbum;
let currentAlbumArt;
let albumFallbackIcon;
let lyricsElement;
let musicListElement;